(()=>{const e=typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(e)return;function t(e){const t=e.querySelector(".photo-carnival__track");if(!t)return;const n=Array.from(t.querySelectorAll(".photo-carnival__item"));if(n.length<2)return;const r=Number.parseInt(e.dataset.interval||"3500",10),l=Number.isFinite(r)?r:3500;let s=0,o=null,c=!1;const d=e=>{const o=n[e];if(!o)return;const i=o.offsetLeft;t.scrollTo({left:i,behavior:"smooth"}),s=e},u=()=>{const e=s>=n.length-1?0:s+1;d(e)},i=()=>{o&&window.clearInterval(o),o=null},a=()=>{i(),o=window.setInterval(u,l),c||(c=!0,document.addEventListener("visibilitychange",()=>{document.hidden?i():a()}))},h=(()=>{let e=null;return()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{const i=t.scrollLeft;let e=0,o=1/0;for(let t=0;t<n.length;t++){const s=Math.abs(n[t].offsetLeft-i);s<o&&(o=s,e=t)}s=e},120)}})();t.addEventListener("scroll",h,{passive:!0}),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),e.addEventListener("focusin",i),e.addEventListener("focusout",a),a()}window.addEventListener("load",()=>{document.querySelectorAll(".photo-carousel[data-photo-carousel]").forEach(t)})})()