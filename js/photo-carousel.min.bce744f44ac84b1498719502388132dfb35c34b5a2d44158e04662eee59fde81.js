(()=>{const e=typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(e)return;function t(e){const i=e.querySelector(".photo-carnival__track");if(!i)return;const n=Array.from(i.querySelectorAll(".photo-carnival__item"));if(n.length<2)return;const h=e.querySelector(".photo-carousel__btn--prev"),r=e.querySelector(".photo-carousel__btn--next"),u=Number.parseInt(e.dataset.interval||"3500",10),m=Number.isFinite(u)?u:3500;let t=0,a=null,c=!1;const l=e=>{const s=n[e];if(!s)return;const o=s.offsetLeft;i.scrollTo({left:o,behavior:"smooth"}),t=e},d=()=>{const e=t>=n.length-1?0:t+1;l(e)},f=()=>{const e=t<=0?n.length-1:t-1;l(e)},o=()=>{a&&window.clearInterval(a),a=null},s=()=>{o(),a=window.setInterval(d,m),c||(c=!0,document.addEventListener("visibilitychange",()=>{document.hidden?o():s()}))},p=(()=>{let e=null;return()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{const o=i.scrollLeft;let e=0,s=1/0;for(let t=0;t<n.length;t++){const i=Math.abs(n[t].offsetLeft-o);i<s&&(s=i,e=t)}t=e},120)}})();i.addEventListener("scroll",p,{passive:!0}),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",s),e.addEventListener("focusin",o),e.addEventListener("focusout",s),h&&h.addEventListener("click",e=>{e.preventDefault(),o(),f(),s()}),r&&r.addEventListener("click",e=>{e.preventDefault(),o(),d(),s()}),s()}window.addEventListener("load",()=>{document.querySelectorAll(".photo-carousel[data-photo-carousel]").forEach(t)})})()